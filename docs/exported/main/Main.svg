<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="632px" preserveAspectRatio="none" style="width:1057px;height:632px;" version="1.1" viewBox="0 0 1057 632" width="1057px" zoomAndPan="magnify"><defs><filter height="300%" id="f155kxl8k67d5k" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--class Channel--><rect fill="#FEFECE" filter="url(#f155kxl8k67d5k)" height="75.6719" id="Channel" style="stroke: #A80036; stroke-width: 1.5;" width="241" x="474" y="437"/><ellipse cx="566.75" cy="453" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M567.7031,449.6406 L567.7031,456.2969 L569.4219,456.2969 Q570.0313,456.2969 570.2969,456.5313 Q570.5625,456.7656 570.5625,457.1563 Q570.5625,457.5313 570.2969,457.7656 Q570.0313,458 569.4219,458 L564.2813,458 Q563.6719,458 563.4063,457.7656 Q563.1406,457.5313 563.1406,457.1406 Q563.1406,456.7656 563.4063,456.5313 Q563.6719,456.2969 564.2813,456.2969 L566,456.2969 L566,449.6406 L564.2813,449.6406 Q563.6719,449.6406 563.4063,449.4063 Q563.1406,449.1719 563.1406,448.7813 Q563.1406,448.4063 563.4063,448.1719 Q563.6719,447.9375 564.2813,447.9375 L569.4219,447.9375 Q570.0313,447.9375 570.2969,448.1719 Q570.5625,448.4063 570.5625,448.7813 Q570.5625,449.1719 570.2969,449.4063 Q570.0313,449.6406 569.4219,449.6406 L567.7031,449.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="47" x="587.25" y="457.9102">Channel</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="475" x2="714" y1="469" y2="469"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="475" x2="714" y1="477" y2="477"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="229" x="480" y="492.4189">sendRequest(RequestObject): ResponseObject</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="182" x="480" y="506.2549">sendNotification(RequestObject): void</text><!--class RequestObject--><rect fill="#FEFECE" filter="url(#f155kxl8k67d5k)" height="48" id="RequestObject" style="stroke: #A80036; stroke-width: 1.5;" width="114" x="521.5" y="573"/><ellipse cx="536.5" cy="589" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M539.2656,584.875 Q539.4219,584.6563 539.6094,584.5469 Q539.7969,584.4375 540.0156,584.4375 Q540.3906,584.4375 540.625,584.6953 Q540.8594,584.9531 540.8594,585.5625 L540.8594,587.0156 Q540.8594,587.625 540.625,587.8906 Q540.3906,588.1563 540.0156,588.1563 Q539.6719,588.1563 539.4688,587.9531 Q539.2656,587.7656 539.1563,587.25 Q539.1094,586.8906 538.9219,586.7031 Q538.5938,586.3281 537.9844,586.1094 Q537.375,585.8906 536.75,585.8906 Q535.9844,585.8906 535.3516,586.2188 Q534.7188,586.5469 534.2266,587.2969 Q533.7344,588.0469 533.7344,589.0781 L533.7344,590.1719 Q533.7344,591.4063 534.625,592.2266 Q535.5156,593.0469 537.1094,593.0469 Q538.0469,593.0469 538.7031,592.7969 Q539.0938,592.6406 539.5156,592.2031 Q539.7813,591.9375 539.9297,591.8594 Q540.0781,591.7813 540.2813,591.7813 Q540.6094,591.7813 540.8672,592.0391 Q541.125,592.2969 541.125,592.6406 Q541.125,592.9844 540.7813,593.3906 Q540.2813,593.9688 539.4844,594.2969 Q538.4063,594.75 537.1094,594.75 Q535.5938,594.75 534.3906,594.125 Q533.4063,593.625 532.7188,592.5547 Q532.0313,591.4844 532.0313,590.2031 L532.0313,589.0469 Q532.0313,587.7188 532.6484,586.5703 Q533.2656,585.4219 534.3594,584.8047 Q535.4531,584.1875 536.6875,584.1875 Q537.4219,584.1875 538.0703,584.3516 Q538.7188,584.5156 539.2656,584.875 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="82" x="550.5" y="593.9102">RequestObject</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="522.5" x2="634.5" y1="605" y2="605"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="522.5" x2="634.5" y1="613" y2="613"/><!--class ResponseObject--><rect fill="#FEFECE" filter="url(#f155kxl8k67d5k)" height="48" id="ResponseObject" style="stroke: #A80036; stroke-width: 1.5;" width="125" x="671" y="573"/><ellipse cx="686" cy="589" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M688.7656,584.875 Q688.9219,584.6563 689.1094,584.5469 Q689.2969,584.4375 689.5156,584.4375 Q689.8906,584.4375 690.125,584.6953 Q690.3594,584.9531 690.3594,585.5625 L690.3594,587.0156 Q690.3594,587.625 690.125,587.8906 Q689.8906,588.1563 689.5156,588.1563 Q689.1719,588.1563 688.9688,587.9531 Q688.7656,587.7656 688.6563,587.25 Q688.6094,586.8906 688.4219,586.7031 Q688.0938,586.3281 687.4844,586.1094 Q686.875,585.8906 686.25,585.8906 Q685.4844,585.8906 684.8516,586.2188 Q684.2188,586.5469 683.7266,587.2969 Q683.2344,588.0469 683.2344,589.0781 L683.2344,590.1719 Q683.2344,591.4063 684.125,592.2266 Q685.0156,593.0469 686.6094,593.0469 Q687.5469,593.0469 688.2031,592.7969 Q688.5938,592.6406 689.0156,592.2031 Q689.2813,591.9375 689.4297,591.8594 Q689.5781,591.7813 689.7813,591.7813 Q690.1094,591.7813 690.3672,592.0391 Q690.625,592.2969 690.625,592.6406 Q690.625,592.9844 690.2813,593.3906 Q689.7813,593.9688 688.9844,594.2969 Q687.9063,594.75 686.6094,594.75 Q685.0938,594.75 683.8906,594.125 Q682.9063,593.625 682.2188,592.5547 Q681.5313,591.4844 681.5313,590.2031 L681.5313,589.0469 Q681.5313,587.7188 682.1484,586.5703 Q682.7656,585.4219 683.8594,584.8047 Q684.9531,584.1875 686.1875,584.1875 Q686.9219,584.1875 687.5703,584.3516 Q688.2188,584.5156 688.7656,584.875 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="93" x="700" y="593.9102">ResponseObject</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="672" x2="795" y1="605" y2="605"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="672" x2="795" y1="613" y2="613"/><!--class RequestHandler--><rect fill="#FEFECE" filter="url(#f155kxl8k67d5k)" height="75.6719" id="RequestHandler" style="stroke: #A80036; stroke-width: 1.5;" width="335" x="6" y="437"/><ellipse cx="124.25" cy="453" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M125.2031,449.6406 L125.2031,456.2969 L126.9219,456.2969 Q127.5313,456.2969 127.7969,456.5313 Q128.0625,456.7656 128.0625,457.1563 Q128.0625,457.5313 127.7969,457.7656 Q127.5313,458 126.9219,458 L121.7813,458 Q121.1719,458 120.9063,457.7656 Q120.6406,457.5313 120.6406,457.1406 Q120.6406,456.7656 120.9063,456.5313 Q121.1719,456.2969 121.7813,456.2969 L123.5,456.2969 L123.5,449.6406 L121.7813,449.6406 Q121.1719,449.6406 120.9063,449.4063 Q120.6406,449.1719 120.6406,448.7813 Q120.6406,448.4063 120.9063,448.1719 Q121.1719,447.9375 121.7813,447.9375 L126.9219,447.9375 Q127.5313,447.9375 127.7969,448.1719 Q128.0625,448.4063 128.0625,448.7813 Q128.0625,449.1719 127.7969,449.4063 Q127.5313,449.6406 126.9219,449.6406 L125.2031,449.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="90" x="144.75" y="457.9102">RequestHandler</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="340" y1="469" y2="469"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="340" y1="477" y2="477"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="237" x="12" y="492.4189">handleRequest(RequestObject): ResponseObject</text><a href="#RequestHandler" target="_top" xlink:actuate="onRequest" xlink:show="new" xlink:title="#RequestHandler" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="83" x="252" y="492.4189">#RequestHandler</text></a><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="190" x="12" y="506.2549">handleNotification(RequestObject): void</text><!--class ChannelFactory--><rect fill="#FEFECE" filter="url(#f155kxl8k67d5k)" height="61.8359" id="ChannelFactory" style="stroke: #A80036; stroke-width: 1.5;" width="212" x="456.5" y="311"/><ellipse cx="514.75" cy="327" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M515.7031,323.6406 L515.7031,330.2969 L517.4219,330.2969 Q518.0313,330.2969 518.2969,330.5313 Q518.5625,330.7656 518.5625,331.1563 Q518.5625,331.5313 518.2969,331.7656 Q518.0313,332 517.4219,332 L512.2813,332 Q511.6719,332 511.4063,331.7656 Q511.1406,331.5313 511.1406,331.1406 Q511.1406,330.7656 511.4063,330.5313 Q511.6719,330.2969 512.2813,330.2969 L514,330.2969 L514,323.6406 L512.2813,323.6406 Q511.6719,323.6406 511.4063,323.4063 Q511.1406,323.1719 511.1406,322.7813 Q511.1406,322.4063 511.4063,322.1719 Q511.6719,321.9375 512.2813,321.9375 L517.4219,321.9375 Q518.0313,321.9375 518.2969,322.1719 Q518.5625,322.4063 518.5625,322.7813 Q518.5625,323.1719 518.2969,323.4063 Q518.0313,323.6406 517.4219,323.6406 L515.7031,323.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="87" x="535.25" y="331.9102">ChannelFactory</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="457.5" x2="667.5" y1="343" y2="343"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="457.5" x2="667.5" y1="351" y2="351"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="200" x="462.5" y="366.4189">createChannel(RequestHandler): Channel</text><!--class MessageStream--><rect fill="#FEFECE" filter="url(#f155kxl8k67d5k)" height="75.6719" id="MessageStream" style="stroke: #A80036; stroke-width: 1.5;" width="211" x="832" y="437"/><ellipse cx="888.75" cy="453" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M889.7031,449.6406 L889.7031,456.2969 L891.4219,456.2969 Q892.0313,456.2969 892.2969,456.5313 Q892.5625,456.7656 892.5625,457.1563 Q892.5625,457.5313 892.2969,457.7656 Q892.0313,458 891.4219,458 L886.2813,458 Q885.6719,458 885.4063,457.7656 Q885.1406,457.5313 885.1406,457.1406 Q885.1406,456.7656 885.4063,456.5313 Q885.6719,456.2969 886.2813,456.2969 L888,456.2969 L888,449.6406 L886.2813,449.6406 Q885.6719,449.6406 885.4063,449.4063 Q885.1406,449.1719 885.1406,448.7813 Q885.1406,448.4063 885.4063,448.1719 Q885.6719,447.9375 886.2813,447.9375 L891.4219,447.9375 Q892.0313,447.9375 892.2969,448.1719 Q892.5625,448.4063 892.5625,448.7813 Q892.5625,449.1719 892.2969,449.4063 Q892.0313,449.6406 891.4219,449.6406 L889.7031,449.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="89" x="909.25" y="457.9102">MessageStream</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="833" x2="1042" y1="469" y2="469"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="833" x2="1042" y1="477" y2="477"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="106" x="838" y="492.4189">write(Message): void;</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="199" x="838" y="506.2549">setReadCallback(Message =&gt; void): void;</text><!--class Message--><rect fill="#FEFECE" filter="url(#f155kxl8k67d5k)" height="48" id="Message" style="stroke: #A80036; stroke-width: 1.5;" width="83" x="896" y="573"/><ellipse cx="911" cy="589" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M913.7656,584.875 Q913.9219,584.6563 914.1094,584.5469 Q914.2969,584.4375 914.5156,584.4375 Q914.8906,584.4375 915.125,584.6953 Q915.3594,584.9531 915.3594,585.5625 L915.3594,587.0156 Q915.3594,587.625 915.125,587.8906 Q914.8906,588.1563 914.5156,588.1563 Q914.1719,588.1563 913.9688,587.9531 Q913.7656,587.7656 913.6563,587.25 Q913.6094,586.8906 913.4219,586.7031 Q913.0938,586.3281 912.4844,586.1094 Q911.875,585.8906 911.25,585.8906 Q910.4844,585.8906 909.8516,586.2188 Q909.2188,586.5469 908.7266,587.2969 Q908.2344,588.0469 908.2344,589.0781 L908.2344,590.1719 Q908.2344,591.4063 909.125,592.2266 Q910.0156,593.0469 911.6094,593.0469 Q912.5469,593.0469 913.2031,592.7969 Q913.5938,592.6406 914.0156,592.2031 Q914.2813,591.9375 914.4297,591.8594 Q914.5781,591.7813 914.7813,591.7813 Q915.1094,591.7813 915.3672,592.0391 Q915.625,592.2969 915.625,592.6406 Q915.625,592.9844 915.2813,593.3906 Q914.7813,593.9688 913.9844,594.2969 Q912.9063,594.75 911.6094,594.75 Q910.0938,594.75 908.8906,594.125 Q907.9063,593.625 907.2188,592.5547 Q906.5313,591.4844 906.5313,590.2031 L906.5313,589.0469 Q906.5313,587.7188 907.1484,586.5703 Q907.7656,585.4219 908.8594,584.8047 Q909.9531,584.1875 911.1875,584.1875 Q911.9219,584.1875 912.5703,584.3516 Q913.2188,584.5156 913.7656,584.875 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="51" x="925" y="593.9102">Message</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="897" x2="978" y1="605" y2="605"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="897" x2="978" y1="613" y2="613"/><!--class BaseMessageStream--><rect fill="#FEFECE" filter="url(#f155kxl8k67d5k)" height="70.0234" id="BaseMessageStream" style="stroke: #A80036; stroke-width: 1.5;" width="152" x="894.5" y="307"/><ellipse cx="909.5" cy="327.0938" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M912.2656,322.9688 Q912.4219,322.75 912.6094,322.6406 Q912.7969,322.5313 913.0156,322.5313 Q913.3906,322.5313 913.625,322.7891 Q913.8594,323.0469 913.8594,323.6563 L913.8594,325.1094 Q913.8594,325.7188 913.625,325.9844 Q913.3906,326.25 913.0156,326.25 Q912.6719,326.25 912.4688,326.0469 Q912.2656,325.8594 912.1563,325.3438 Q912.1094,324.9844 911.9219,324.7969 Q911.5938,324.4219 910.9844,324.2031 Q910.375,323.9844 909.75,323.9844 Q908.9844,323.9844 908.3516,324.3125 Q907.7188,324.6406 907.2266,325.3906 Q906.7344,326.1406 906.7344,327.1719 L906.7344,328.2656 Q906.7344,329.5 907.625,330.3203 Q908.5156,331.1406 910.1094,331.1406 Q911.0469,331.1406 911.7031,330.8906 Q912.0938,330.7344 912.5156,330.2969 Q912.7813,330.0313 912.9297,329.9531 Q913.0781,329.875 913.2813,329.875 Q913.6094,329.875 913.8672,330.1328 Q914.125,330.3906 914.125,330.7344 Q914.125,331.0781 913.7813,331.4844 Q913.2813,332.0625 912.4844,332.3906 Q911.4063,332.8438 910.1094,332.8438 Q908.5938,332.8438 907.3906,332.2188 Q906.4063,331.7188 905.7188,330.6484 Q905.0313,329.5781 905.0313,328.2969 L905.0313,327.1406 Q905.0313,325.8125 905.6484,324.6641 Q906.2656,323.5156 907.3594,322.8984 Q908.4531,322.2813 909.6875,322.2813 Q910.4219,322.2813 911.0703,322.4453 Q911.7188,322.6094 912.2656,322.9688 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="58" x="954.5" y="324.457">«abstract»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="120" x="923.5" y="339.5508">BaseMessageStream</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="895.5" x2="1045.5" y1="347.1875" y2="347.1875"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="895.5" x2="1045.5" y1="355.1875" y2="355.1875"/><polygon fill="#FFFF44" points="905.5,361.1875,909.5,365.1875,905.5,369.1875,901.5,365.1875" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="64" x="914.5" y="370.6064">onMessage()</text><!--class StreamBasedChannelStatic--><rect fill="#FEFECE" filter="url(#f155kxl8k67d5k)" height="48" id="StreamBasedChannelStatic" style="stroke: #A80036; stroke-width: 1.5;" width="191" x="576" y="171.5"/><ellipse cx="591" cy="187.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M593.7656,183.375 Q593.9219,183.1563 594.1094,183.0469 Q594.2969,182.9375 594.5156,182.9375 Q594.8906,182.9375 595.125,183.1953 Q595.3594,183.4531 595.3594,184.0625 L595.3594,185.5156 Q595.3594,186.125 595.125,186.3906 Q594.8906,186.6563 594.5156,186.6563 Q594.1719,186.6563 593.9688,186.4531 Q593.7656,186.2656 593.6563,185.75 Q593.6094,185.3906 593.4219,185.2031 Q593.0938,184.8281 592.4844,184.6094 Q591.875,184.3906 591.25,184.3906 Q590.4844,184.3906 589.8516,184.7188 Q589.2188,185.0469 588.7266,185.7969 Q588.2344,186.5469 588.2344,187.5781 L588.2344,188.6719 Q588.2344,189.9063 589.125,190.7266 Q590.0156,191.5469 591.6094,191.5469 Q592.5469,191.5469 593.2031,191.2969 Q593.5938,191.1406 594.0156,190.7031 Q594.2813,190.4375 594.4297,190.3594 Q594.5781,190.2813 594.7813,190.2813 Q595.1094,190.2813 595.3672,190.5391 Q595.625,190.7969 595.625,191.1406 Q595.625,191.4844 595.2813,191.8906 Q594.7813,192.4688 593.9844,192.7969 Q592.9063,193.25 591.6094,193.25 Q590.0938,193.25 588.8906,192.625 Q587.9063,192.125 587.2188,191.0547 Q586.5313,189.9844 586.5313,188.7031 L586.5313,187.5469 Q586.5313,186.2188 587.1484,185.0703 Q587.7656,183.9219 588.8594,183.3047 Q589.9531,182.6875 591.1875,182.6875 Q591.9219,182.6875 592.5703,182.8516 Q593.2188,183.0156 593.7656,183.375 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="159" x="605" y="192.4102">StreamBasedChannel::Static</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="577" x2="766" y1="203.5" y2="203.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="577" x2="766" y1="211.5" y2="211.5"/><!--class StreamBasedChannel--><rect fill="#FEFECE" filter="url(#f155kxl8k67d5k)" height="48" id="StreamBasedChannel" style="stroke: #A80036; stroke-width: 1.5;" width="155" x="704" y="318"/><ellipse cx="719" cy="334" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M721.7656,329.875 Q721.9219,329.6563 722.1094,329.5469 Q722.2969,329.4375 722.5156,329.4375 Q722.8906,329.4375 723.125,329.6953 Q723.3594,329.9531 723.3594,330.5625 L723.3594,332.0156 Q723.3594,332.625 723.125,332.8906 Q722.8906,333.1563 722.5156,333.1563 Q722.1719,333.1563 721.9688,332.9531 Q721.7656,332.7656 721.6563,332.25 Q721.6094,331.8906 721.4219,331.7031 Q721.0938,331.3281 720.4844,331.1094 Q719.875,330.8906 719.25,330.8906 Q718.4844,330.8906 717.8516,331.2188 Q717.2188,331.5469 716.7266,332.2969 Q716.2344,333.0469 716.2344,334.0781 L716.2344,335.1719 Q716.2344,336.4063 717.125,337.2266 Q718.0156,338.0469 719.6094,338.0469 Q720.5469,338.0469 721.2031,337.7969 Q721.5938,337.6406 722.0156,337.2031 Q722.2813,336.9375 722.4297,336.8594 Q722.5781,336.7813 722.7813,336.7813 Q723.1094,336.7813 723.3672,337.0391 Q723.625,337.2969 723.625,337.6406 Q723.625,337.9844 723.2813,338.3906 Q722.7813,338.9688 721.9844,339.2969 Q720.9063,339.75 719.6094,339.75 Q718.0938,339.75 716.8906,339.125 Q715.9063,338.625 715.2188,337.5547 Q714.5313,336.4844 714.5313,335.2031 L714.5313,334.0469 Q714.5313,332.7188 715.1484,331.5703 Q715.7656,330.4219 716.8594,329.8047 Q717.9531,329.1875 719.1875,329.1875 Q719.9219,329.1875 720.5703,329.3516 Q721.2188,329.5156 721.7656,329.875 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="123" x="733" y="338.9102">StreamBasedChannel</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="705" x2="858" y1="350" y2="350"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="705" x2="858" y1="358" y2="358"/><!--class TypedChannel--><rect fill="#FEFECE" filter="url(#f155kxl8k67d5k)" height="103.3438" id="TypedChannel" style="stroke: #A80036; stroke-width: 1.5;" width="252" x="161.5" y="144"/><ellipse cx="243.25" cy="160" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M246.0156,155.875 Q246.1719,155.6563 246.3594,155.5469 Q246.5469,155.4375 246.7656,155.4375 Q247.1406,155.4375 247.375,155.6953 Q247.6094,155.9531 247.6094,156.5625 L247.6094,158.0156 Q247.6094,158.625 247.375,158.8906 Q247.1406,159.1563 246.7656,159.1563 Q246.4219,159.1563 246.2188,158.9531 Q246.0156,158.7656 245.9063,158.25 Q245.8594,157.8906 245.6719,157.7031 Q245.3438,157.3281 244.7344,157.1094 Q244.125,156.8906 243.5,156.8906 Q242.7344,156.8906 242.1016,157.2188 Q241.4688,157.5469 240.9766,158.2969 Q240.4844,159.0469 240.4844,160.0781 L240.4844,161.1719 Q240.4844,162.4063 241.375,163.2266 Q242.2656,164.0469 243.8594,164.0469 Q244.7969,164.0469 245.4531,163.7969 Q245.8438,163.6406 246.2656,163.2031 Q246.5313,162.9375 246.6797,162.8594 Q246.8281,162.7813 247.0313,162.7813 Q247.3594,162.7813 247.6172,163.0391 Q247.875,163.2969 247.875,163.6406 Q247.875,163.9844 247.5313,164.3906 Q247.0313,164.9688 246.2344,165.2969 Q245.1563,165.75 243.8594,165.75 Q242.3438,165.75 241.1406,165.125 Q240.1563,164.625 239.4688,163.5547 Q238.7813,162.4844 238.7813,161.2031 L238.7813,160.0469 Q238.7813,158.7188 239.3984,157.5703 Q240.0156,156.4219 241.1094,155.8047 Q242.2031,155.1875 243.4375,155.1875 Q244.1719,155.1875 244.8203,155.3516 Q245.4688,155.5156 246.0156,155.875 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="80" x="263.75" y="164.9102">TypedChannel</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="162.5" x2="412.5" y1="176" y2="176"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="162.5" x2="412.5" y1="184" y2="184"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="137" x="167.5" y="199.4189">request(RequestType, args)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="140" x="167.5" y="213.2549">notify(NotificationType, args)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="228" x="167.5" y="227.0908">registerRequestHandler(RequestType, handler)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="240" x="167.5" y="240.9268">registerNotificationHandler(NotificationType, args)</text><!--class RequestType--><rect fill="#FEFECE" filter="url(#f155kxl8k67d5k)" height="48" id="RequestType" style="stroke: #A80036; stroke-width: 1.5;" width="105" x="162" y="318"/><ellipse cx="177" cy="334" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M179.7656,329.875 Q179.9219,329.6563 180.1094,329.5469 Q180.2969,329.4375 180.5156,329.4375 Q180.8906,329.4375 181.125,329.6953 Q181.3594,329.9531 181.3594,330.5625 L181.3594,332.0156 Q181.3594,332.625 181.125,332.8906 Q180.8906,333.1563 180.5156,333.1563 Q180.1719,333.1563 179.9688,332.9531 Q179.7656,332.7656 179.6563,332.25 Q179.6094,331.8906 179.4219,331.7031 Q179.0938,331.3281 178.4844,331.1094 Q177.875,330.8906 177.25,330.8906 Q176.4844,330.8906 175.8516,331.2188 Q175.2188,331.5469 174.7266,332.2969 Q174.2344,333.0469 174.2344,334.0781 L174.2344,335.1719 Q174.2344,336.4063 175.125,337.2266 Q176.0156,338.0469 177.6094,338.0469 Q178.5469,338.0469 179.2031,337.7969 Q179.5938,337.6406 180.0156,337.2031 Q180.2813,336.9375 180.4297,336.8594 Q180.5781,336.7813 180.7813,336.7813 Q181.1094,336.7813 181.3672,337.0391 Q181.625,337.2969 181.625,337.6406 Q181.625,337.9844 181.2813,338.3906 Q180.7813,338.9688 179.9844,339.2969 Q178.9063,339.75 177.6094,339.75 Q176.0938,339.75 174.8906,339.125 Q173.9063,338.625 173.2188,337.5547 Q172.5313,336.4844 172.5313,335.2031 L172.5313,334.0469 Q172.5313,332.7188 173.1484,331.5703 Q173.7656,330.4219 174.8594,329.8047 Q175.9531,329.1875 177.1875,329.1875 Q177.9219,329.1875 178.5703,329.3516 Q179.2188,329.5156 179.7656,329.875 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="73" x="191" y="338.9102">RequestType</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="163" x2="266" y1="350" y2="350"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="163" x2="266" y1="358" y2="358"/><!--class NotificationType--><rect fill="#FEFECE" filter="url(#f155kxl8k67d5k)" height="48" id="NotificationType" style="stroke: #A80036; stroke-width: 1.5;" width="119" x="302" y="318"/><ellipse cx="317" cy="334" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M319.7656,329.875 Q319.9219,329.6563 320.1094,329.5469 Q320.2969,329.4375 320.5156,329.4375 Q320.8906,329.4375 321.125,329.6953 Q321.3594,329.9531 321.3594,330.5625 L321.3594,332.0156 Q321.3594,332.625 321.125,332.8906 Q320.8906,333.1563 320.5156,333.1563 Q320.1719,333.1563 319.9688,332.9531 Q319.7656,332.7656 319.6563,332.25 Q319.6094,331.8906 319.4219,331.7031 Q319.0938,331.3281 318.4844,331.1094 Q317.875,330.8906 317.25,330.8906 Q316.4844,330.8906 315.8516,331.2188 Q315.2188,331.5469 314.7266,332.2969 Q314.2344,333.0469 314.2344,334.0781 L314.2344,335.1719 Q314.2344,336.4063 315.125,337.2266 Q316.0156,338.0469 317.6094,338.0469 Q318.5469,338.0469 319.2031,337.7969 Q319.5938,337.6406 320.0156,337.2031 Q320.2813,336.9375 320.4297,336.8594 Q320.5781,336.7813 320.7813,336.7813 Q321.1094,336.7813 321.3672,337.0391 Q321.625,337.2969 321.625,337.6406 Q321.625,337.9844 321.2813,338.3906 Q320.7813,338.9688 319.9844,339.2969 Q318.9063,339.75 317.6094,339.75 Q316.0938,339.75 314.8906,339.125 Q313.9063,338.625 313.2188,337.5547 Q312.5313,336.4844 312.5313,335.2031 L312.5313,334.0469 Q312.5313,332.7188 313.1484,331.5703 Q313.7656,330.4219 314.8594,329.8047 Q315.9531,329.1875 317.1875,329.1875 Q317.9219,329.1875 318.5703,329.3516 Q319.2188,329.5156 319.7656,329.875 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="87" x="331" y="338.9102">NotificationType</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="303" x2="420" y1="350" y2="350"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="303" x2="420" y1="358" y2="358"/><!--class Contract--><rect fill="#FEFECE" filter="url(#f155kxl8k67d5k)" height="75.6719" id="Contract" style="stroke: #A80036; stroke-width: 1.5;" width="242" x="166.5" y="8"/><ellipse cx="214.25" cy="24" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M217.0156,19.875 Q217.1719,19.6563 217.3594,19.5469 Q217.5469,19.4375 217.7656,19.4375 Q218.1406,19.4375 218.375,19.6953 Q218.6094,19.9531 218.6094,20.5625 L218.6094,22.0156 Q218.6094,22.625 218.375,22.8906 Q218.1406,23.1563 217.7656,23.1563 Q217.4219,23.1563 217.2188,22.9531 Q217.0156,22.7656 216.9063,22.25 Q216.8594,21.8906 216.6719,21.7031 Q216.3438,21.3281 215.7344,21.1094 Q215.125,20.8906 214.5,20.8906 Q213.7344,20.8906 213.1016,21.2188 Q212.4688,21.5469 211.9766,22.2969 Q211.4844,23.0469 211.4844,24.0781 L211.4844,25.1719 Q211.4844,26.4063 212.375,27.2266 Q213.2656,28.0469 214.8594,28.0469 Q215.7969,28.0469 216.4531,27.7969 Q216.8438,27.6406 217.2656,27.2031 Q217.5313,26.9375 217.6797,26.8594 Q217.8281,26.7813 218.0313,26.7813 Q218.3594,26.7813 218.6172,27.0391 Q218.875,27.2969 218.875,27.6406 Q218.875,27.9844 218.5313,28.3906 Q218.0313,28.9688 217.2344,29.2969 Q216.1563,29.75 214.8594,29.75 Q213.3438,29.75 212.1406,29.125 Q211.1563,28.625 210.4688,27.5547 Q209.7813,26.4844 209.7813,25.2031 L209.7813,24.0469 Q209.7813,22.7188 210.3984,21.5703 Q211.0156,20.4219 212.1094,19.8047 Q213.2031,19.1875 214.4375,19.1875 Q215.1719,19.1875 215.8203,19.3516 Q216.4688,19.5156 217.0156,19.875 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="46" x="234.75" y="28.9102">Contract</text><rect fill="#FFFFFF" height="17.0938" style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" width="90" x="321.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="88" x="322.5" y="18.457">TServer, TClient</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="167.5" x2="407.5" y1="40" y2="40"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="167.5" x2="407.5" y1="48" y2="48"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="230" x="172.5" y="63.4189">registerServer(TypedChannel, TServer): TClient</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="208" x="172.5" y="77.2549">getServer(TypedChannel, TClient): TServer</text><!--link Channel to RequestObject--><path d="M589.525,513.311 C587.201,530.7424 584.477,551.1702 582.319,567.3605 " fill="none" id="Channel-&gt;RequestObject" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="581.61,572.6782,586.7645,564.2859,582.2709,567.7221,578.8347,563.2284,581.61,572.6782" style="stroke: #A80036; stroke-width: 1.0;"/><!--link Channel to ResponseObject--><path d="M637.719,513.311 C658.612,531.3487 683.222,552.5949 702.265,569.0342 " fill="none" id="Channel-&gt;ResponseObject" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="706.486,572.6782,702.2871,563.7693,702.7012,569.4109,697.0595,569.825,706.486,572.6782" style="stroke: #A80036; stroke-width: 1.0;"/><!--link ChannelFactory to RequestHandler--><path d="M473.256,373.054 C418.384,391.532 347.52,415.397 288.47,435.283 " fill="none" id="ChannelFactory-&gt;RequestHandler" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="283.518,436.95,293.3239,437.8686,288.2565,435.3543,290.7708,430.2869,283.518,436.95" style="stroke: #A80036; stroke-width: 1.0;"/><!--link ChannelFactory to Channel--><path d="M569.841,373.054 C574.058,390.316 579.423,412.278 584.071,431.305 " fill="none" id="ChannelFactory-&gt;Channel" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="585.361,436.588,587.1125,426.8961,584.1752,431.7306,579.3407,428.7934,585.361,436.588" style="stroke: #A80036; stroke-width: 1.0;"/><!--link MessageStream to Message--><path d="M937.5,513.311 C937.5,530.7424 937.5,551.1702 937.5,567.3605 " fill="none" id="MessageStream-&gt;Message" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="937.5,572.6782,941.5,563.6782,937.5,567.6782,933.5,563.6782,937.5,572.6782" style="stroke: #A80036; stroke-width: 1.0;"/><!--link BaseMessageStream to MessageStream--><path d="M961.916,377.077 C958.811,389.403 955.215,403.675 951.755,417.414 " fill="none" id="BaseMessageStream-&gt;MessageStream" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="958.526,419.188,946.853,436.873,944.95,415.768,958.526,419.188" style="stroke: #A80036; stroke-width: 1.0;"/><!--link StreamBasedChannelStatic to ChannelFactory--><path d="M653.987,219.716 C638.757,239.907 616.229,269.772 597.34,294.813 " fill="none" id="StreamBasedChannelStatic-&gt;ChannelFactory" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="602.906,299.058,585.273,310.81,591.729,290.628,602.906,299.058" style="stroke: #A80036; stroke-width: 1.0;"/><!--link StreamBasedChannelStatic to StreamBasedChannel--><path d="M689.173,219.716 C708.658,245.312 739.977,286.454 760.648,313.608 " fill="none" id="StreamBasedChannelStatic-&gt;StreamBasedChannel" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="763.87,317.841,761.6015,308.257,760.8415,313.8625,755.2359,313.1025,763.87,317.841" style="stroke: #A80036; stroke-width: 1.0;"/><!--link StreamBasedChannel to Channel--><path d="M748.499,366.119 C725.184,382.451 693.074,404.945 664.206,425.169 " fill="none" id="StreamBasedChannel-&gt;Channel" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="668.071,431.008,647.674,436.75,660.039,419.541,668.071,431.008" style="stroke: #A80036; stroke-width: 1.0;"/><!--link StreamBasedChannel to MessageStream--><path d="M809.031,366.119 C831.207,384.741 862.922,411.373 889.291,433.517 " fill="none" id="StreamBasedChannel-&gt;MessageStream" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="893.141,436.75,888.822,427.8986,889.3123,433.5342,883.6768,434.0245,893.141,436.75" style="stroke: #A80036; stroke-width: 1.0;"/><!--link TypedChannel to RequestHandler--><path d="M196.316,247.079 C175.506,263.314 156.116,283.343 144.5,307 C127.557,341.505 135.456,384.279 147.256,417.898 " fill="none" id="TypedChannel-&gt;RequestHandler" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="153.959,415.821,154.707,436.997,140.917,420.909,153.959,415.821" style="stroke: #A80036; stroke-width: 1.0;"/><!--link TypedChannel to RequestType--><path d="M261.968,247.039 C250.749,269.247 238.005,294.473 228.549,313.191 " fill="none" id="TypedChannel-&gt;RequestType" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="226.219,317.804,233.8472,311.5741,228.4733,313.341,226.7064,307.9672,226.219,317.804" style="stroke: #A80036; stroke-width: 1.0;"/><!--link TypedChannel to NotificationType--><path d="M313.382,247.039 C324.755,269.247 337.673,294.473 347.259,313.191 " fill="none" id="TypedChannel-&gt;NotificationType" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="349.621,317.804,349.0795,307.97,347.3422,313.3535,341.9587,311.6162,349.621,317.804" style="stroke: #A80036; stroke-width: 1.0;"/><!--link TypedChannel to ChannelFactory--><path d="M383.682,247.039 C422.518,267.446 466.203,290.4 500.673,308.513 " fill="none" id="TypedChannel-&gt;ChannelFactory" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="505.259,310.922,499.1518,303.1953,500.8326,308.5967,495.4313,310.2775,505.259,310.922" style="stroke: #A80036; stroke-width: 1.0;"/><!--link Contract to TypedChannel--><path d="M287.5,84.22 C287.5,100.758 287.5,120.575 287.5,138.819 " fill="none" id="Contract-&gt;TypedChannel" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="287.5,143.919,291.5,134.919,287.5,138.919,283.5,134.919,287.5,143.919" style="stroke: #A80036; stroke-width: 1.0;"/><!--
@startuml Main

interface Channel {
    sendRequest(RequestObject): ResponseObject
    sendNotification(RequestObject): void
}
Channel ..> RequestObject
Channel ..> ResponseObject
class RequestObject
class ResponseObject

interface RequestHandler {
    handleRequest(RequestObject): ResponseObject [[#RequestHandler]]
	handleNotification(RequestObject): void
}

interface ChannelFactory {
    createChannel(RequestHandler): Channel
}
ChannelFactory ..> RequestHandler
ChannelFactory ..> Channel

interface MessageStream {
    write(Message): void;
	setReadCallback(Message => void): void;
}

MessageStream ..> Message

class BaseMessageStream << abstract >> {
    #onMessage()
}
BaseMessageStream ..|> MessageStream



class StreamBasedChannelStatic as "StreamBasedChannel::Static"
StreamBasedChannelStatic ..|> ChannelFactory
StreamBasedChannelStatic ..> StreamBasedChannel

class StreamBasedChannel
StreamBasedChannel ..|> Channel
StreamBasedChannel ..> MessageStream

class TypedChannel {
    request(RequestType, args)
    notify(NotificationType, args)
    registerRequestHandler(RequestType, handler)
    registerNotificationHandler(NotificationType, args)
}
TypedChannel ..|> RequestHandler
TypedChannel ..> RequestType
TypedChannel ..> NotificationType
TypedChannel ..> ChannelFactory

class Contract<TServer, TClient> {
    registerServer(TypedChannel, TServer): TClient
    getServer(TypedChannel, TClient): TServer
}
Contract ..> TypedChannel

@enduml

PlantUML version 1.2019.09(Mon Aug 26 18:19:51 CEST 2019)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_241-b07
Operating System: Windows 10
OS Version: 10.0
Default Encoding: Cp1252
Language: de
Country: DE
--></g></svg>